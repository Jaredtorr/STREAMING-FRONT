<div class="contenedor-principal-streaming">
  <div class="contenido-izquierdo-streaming">
    <div class="caja-formulario-streaming">
      <h2 class="titulo-streaming">Crea tu cuenta</h2>

      <div *ngIf="errorMessage" class="banner-error-streaming">
        {{ errorMessage }}
      </div>

      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="formulario-streaming">
        <div class="campo-streaming">
          <input 
            type="text" 
            formControlName="name" 
            placeholder="Nombre"
            [class.input-error-streaming]="name?.invalid && name?.touched">
          <div *ngIf="name?.invalid && name?.touched" class="texto-error-streaming">
            El nombre es requerido
          </div>
        </div>

        <div class="campo-streaming">
          <input 
            type="text" 
            formControlName="lastname" 
            placeholder="Apellido"
            [class.input-error-streaming]="lastname?.invalid && lastname?.touched">
          <div *ngIf="lastname?.invalid && lastname?.touched" class="texto-error-streaming">
            El apellido es requerido
          </div>
        </div>

        <div class="campo-streaming">
          <input 
            type="text" 
            formControlName="username" 
            placeholder="Nombre de usuario"
            [class.input-error-streaming]="username?.invalid && username?.touched">
          <div *ngIf="username?.invalid && username?.touched" class="texto-error-streaming">
            El nombre de usuario es requerido
          </div>
        </div>

        <div class="campo-streaming">
          <input 
            type="email" 
            formControlName="email" 
            placeholder="Correo electrónico"
            [class.input-error-streaming]="email?.invalid && email?.touched">
          <div *ngIf="email?.invalid && email?.touched" class="texto-error-streaming">
            <span *ngIf="email?.errors?.['required']">El email es requerido</span>
            <span *ngIf="email?.errors?.['email']">Ingresa un email válido</span>
          </div>
        </div>

        <div class="campo-streaming">
          <input 
            type="password" 
            formControlName="password" 
            placeholder="Contraseña"
            [class.input-error-streaming]="password?.invalid && password?.touched">
          <div *ngIf="password?.invalid && password?.touched" class="texto-error-streaming">
            <span *ngIf="password?.errors?.['required']">La contraseña es requerida</span>
            <span *ngIf="password?.errors?.['minlength']">Mínimo 8 caracteres</span>
          </div>
        </div>

        <button 
          type="submit" 
          [disabled]="registerForm.invalid || isLoading"
          class="boton-enviar-streaming">
          <span *ngIf="!isLoading">Registrarse</span>
          <span *ngIf="isLoading" class="cargando-streaming"></span>
        </button>
      </form>

      <div class="pie-formulario-streaming">
        <p>¿Ya tienes cuenta? 
          <a routerLink="/login">Inicia sesión</a>
        </p>
      </div>
    </div>
  </div>
</div>
